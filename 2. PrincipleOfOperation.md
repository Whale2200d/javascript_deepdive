# 2. 실행 원리

자바스크립트는 그 자체로는 "소스 코드"일 뿐, 엔진이 이것을 "파싱 -> 실행 -> 최적화"해서 동작시킨다.

## 실행 흐름

1. 파싱(Parsing)
   - JS 소스 코드를 읽고 토큰으로 쪼갠다. 토큰을 기반으로 추상 구문 트리(Abstract Syntax Tree, AST)를 생성한다.
2. 바이트코드로 변환(Bytecode)
   - AST를 인터프리터가 실행할 수 있는 바이트코드로 변환한다.
3. 인터프리트 실행(Ignition)
   - 바이트코드를 순차적으로 실행한다. (실시간 해석)
4. JIT 컴파일(TurboFan)
   - 실행 중 반복되는 코드 패턴을 기계어로 실시간 변환 & 최적화한다.
   - 덕분에 인터프리터 언어인 JS도 네이티브 속도로 실행이 가능하다.

## 런타임 환경

엔진이 JS 코드를 기계어로 변환해주는 변환기이지만, JS는 엔진만 있다고 해서 실행되지 않는다. 실제 프로그램처럼 돌게 하려면 런타임 환경이 필요하다. 런타임 환경은 엔진 뿐만 아니라, API, 이벤트 루프도 존재한다.

- 브라우저 런타임
  - Web API (DOM, AJAX, setTimeout 등)
  - 이벤트 루프 & 테스크 큐
  - 렌더링 엔진과 연결 (HTML/CSS 조작 가능)
- Node.js 런타임
  - File System, Network, OS API 제공
  - 이벤트 루프 (Libuv 기반)
  - JS 엔진(V8) + 런타임 API 조합

# 핵심 메커니즘

Deep Dive에서 가장 중요한 파트. 여기서부터 JS가 어떻게 움직이는지 이해 가능

- 실행 컨텍스트 (Execution Context)
  - 코드가 실행되는 스코프/환경
- 호이스팅(Hoisting)
  - 변수와 함수 선언이 코드 실행 전에 메모리에 할당
- 스코프와 클로저
  - 렉시컬 스코프, 함수형 프로그래밍 기초
- this 바인딩
  - 함수 호출 방식에 따라 달라짐 (전역, 메서드, 생성자, bind 등)
- 프로토타입 & 상속
  - JS 객체 모델의 핵심
- 이벤트 루프
  - 태스크 큐, 마이크로태스크, 비동기 처리 원리

# 언어 고급 기능

- ES6+ 모던 문법
  - let/const, arrow function, class, module(import/export)
  - Promise, async/await
- 객체 지향 + 함수형 프로그래밍 혼합
  - JS는 멀티 패러다임 언어
- Symbol, Iterator, Generator, Proxy, Reflect 등 메타 프로그래밍

⇒ 프레임워크(Vue, React) 소스를 읽을 때 이런 것들이 왜 사용되는지 보임.

# 실전 연결 (프레임워크 & 런타임)

- 브라우저 기반: DOM 조작, 이벤트, Storage API
- Node.js 기반: 모듈 시스템, 이벤트 기반 I/O, npm 패키지
- 프레임워크 동작 원리의 이해
  - Vue/React → 가상 DOM, reactive system
  - Express/Nest → 이벤트 루프 기반 서버 구조

⇒ 여기서 언어 원리와 프레임워크 동작 원리가 연결된다.
